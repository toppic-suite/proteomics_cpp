include ../Makefile.in

TEST_ZERO_PTM_OBJS = $(addprefix $(OBJ_DIR)/, test_zero_ptm.o)

TEST_DIAG_FILTER_OBJS = $(addprefix $(OBJ_DIR)/, test_diag_filter.o)

TEST_ONE_PTM_FILTER_OBJS = $(addprefix $(OBJ_DIR)/, test_one_ptm_filter.o)

TEST_PTM_SEARCH_OBJS = $(addprefix $(OBJ_DIR)/, test_ptm_search.o)

TEST_EVALUE_OBJS = $(addprefix $(OBJ_DIR)/, test_evalue.o)

TEST_PRSM_VIEW_OBJS = $(addprefix $(OBJ_DIR)/, test_xpp.o)

OBJS = $(BASE_OBJS) $(SPEC_OBJS) $(PRSM_OBJS) $(ZERO_PTM_OBJS) $(DIAG_FILTER_OBJS) $(ONE_PTM_FILTER_OBJS) $(PTM_OBJS) $(TDGF_OBJS) $(XPP_OBJS) $(ARGUMENT_OBJS) 

TEST_ZERO_PTM_LINK_OBJS = $(OBJS) $(TEST_ZERO_PTM_OBJS)

TEST_DIAG_FILTER_LINK_OBJS = $(OBJS) $(TEST_DIAG_FILTER_OBJS)

TEST_ONE_PTM_FILTER_LINK_OBJS = $(OBJS) $(TEST_ONE_PTM_FILTER_OBJS)

TEST_PTM_SEARCH_LINK_OBJS = $(OBJS) $(TEST_PTM_SEARCH_OBJS)

TEST_EVALUE_LINK_OBJS = $(OBJS) $(TEST_EVALUE_OBJS)

TEST_PRSM_VIEW_LINK_OBJS = $(OBJS) $(TEST_PRSM_VIEW_OBJS)


BIN_DIR = ../../bin

#
# define the executable file 
TEST_ZERO_PTM = $(BIN_DIR)/test_zero_ptm
TEST_DIAG_FILTER = $(BIN_DIR)/test_diag_filter
TEST_ONE_PTM_FILTER = $(BIN_DIR)/test_one_ptm_filter
TEST_PTM_SEARCH = $(BIN_DIR)/test_ptm_search
TEST_EVALUE = $(BIN_DIR)/test_evalue
TEST_PRSM_VIEW = $(BIN_DIR)/test_prsm_view
#
# The following part of the makefile is generic; it can be used to 
# build any executable just by changing the definitions above and by
# deleting dependencies appended to the file from 'make depend'
#
#
.PHONY: depend clean
#
all:    $(TEST_ZERO_PTM) $(TEST_DIAG_FILTER) $(TEST_ONE_PTM_FILTER) $(TEST_PTM_SEARCH) $(TEST_EVALUE) $(TEST_XPP)

$(TEST_ZERO_PTM): $(TEST_ZERO_PTM_LINK_OBJS) 
	$(CC) $(CPPFLAGS) $(INCLUDES) -o $(TEST_ZERO_PTM) $(TEST_ZERO_PTM_LINK_OBJS) $(LFLAGS) $(LIBS)

$(TEST_DIAG_FILTER): $(TEST_DIAG_FILTER_LINK_OBJS) 
	$(CC) $(CPPFLAGS) $(INCLUDES) -o $(TEST_DIAG_FILTER) $(TEST_DIAG_FILTER_LINK_OBJS) $(LFLAGS) $(LIBS)

$(TEST_ONE_PTM_FILTER): $(TEST_ONE_PTM_FILTER_LINK_OBJS) 
	$(CC) $(CPPFLAGS) $(INCLUDES) -o $(TEST_ONE_PTM_FILTER) $(TEST_ONE_PTM_FILTER_LINK_OBJS) $(LFLAGS) $(LIBS)

$(TEST_PTM_SEARCH): $(TEST_PTM_SEARCH_LINK_OBJS) 
	$(CC) $(CPPFLAGS) $(INCLUDES) -o $(TEST_PTM_SEARCH) $(TEST_PTM_SEARCH_LINK_OBJS) $(LFLAGS) $(LIBS)

$(TEST_EVALUE): $(TEST_EVALUE_LINK_OBJS) 
	$(CC) $(CPPFLAGS) $(INCLUDES) -o $(TEST_EVALUE) $(TEST_EVALUE_LINK_OBJS) $(LFLAGS) $(LIBS)

$(TEST_XPP): $(TEST_XPP_LINK_OBJS)
	$(CC) $(CPPFLAGS) $(INCLUDES) -o $(TEST_XPP) $(TEST_XPP_LINK_OBJS) $(LFLAGS) $(LIBS)

$(OBJ_DIR)/%.o: %.cpp
	$(CC) -c $(CPPFLAGS) $(INCLUDES) $< -o $@

clean:
	$(RM) *~ $(TEST_ZERO_PTM) $(TEST_DIAG_FILTER) $(TEST_ONE_PTM_FILTER) $(TEST_PTM_SEARCH) $(TEST_EVALUE) $(TEST_PRSM_VIEW) $(TEST_ZERO_PTM_OBJS) $(TEST_DIAG_FILTER_OBJS) $(TEST_ONE_PTM_FILTER_OBJS) $(TEST_PTM_SEARCH_OBJS) $(TEST_EVALUE_OBJS) $(TEST_PRSM_VIEW_OBJS) 

depend: $(SRCS)
